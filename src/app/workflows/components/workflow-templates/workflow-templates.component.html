<ion-header class="modal-header">
  <ion-toolbar>
    <ion-title>Create Workflow</ion-title>
    <ion-buttons slot="end">
      <ion-button (click)="dismiss()" class="close-button">
        <ion-icon slot="icon-only" name="close"></ion-icon>
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content class="modal-content">
  <div class="templates-container">
    <div class="templates-header">
      <h2>Choose How to Get Started</h2>
      <p>Select a template for quick setup or start from scratch</p>
    </div>

    <!-- Create from Scratch Option - Prominent at the top -->
    <div class="create-options">
      <div class="create-card primary-option" (click)="createFromScratch()">
        <div class="create-icon">
          <ion-icon name="create-outline"></ion-icon>
        </div>
        <div class="create-content">
          <h3>Create Custom Workflow</h3>
          <p>Build a workflow tailored to your specific needs</p>
        </div>
        <ion-icon name="chevron-forward-outline" class="arrow-icon"></ion-icon>
      </div>
    </div>

    <div class="divider-section">
      <div class="divider-line"></div>
      <span class="divider-text">Or choose a template</span>
      <div class="divider-line"></div>
    </div>

    <!-- Template Grid -->
    <div class="templates-grid">
      <div 
        class="template-card" 
        *ngFor="let template of templates"
        (click)="useTemplateDirectly(template)">
        
        <div class="template-icon">
          <ion-icon [name]="template.icon"></ion-icon>
        </div>
        
        <div class="template-content">
          <h3>{{ template.name }}</h3>
          <p>{{ template.description }}</p>
          
          <div class="template-meta">
            <span class="meta-item">
              <ion-icon name="git-branch-outline"></ion-icon>
              {{ getTemplateTriggerType(template) }}
            </span>
            <span class="meta-item">
              <ion-icon name="layers-outline"></ion-icon>
              {{ getTemplateStepsCount(template) }} steps
            </span>
          </div>
        </div>
        
        <ion-icon name="chevron-forward-outline" class="arrow-icon"></ion-icon>
      </div>
    </div>
  </div>
</ion-content>